# 입출력 시스템과 디스크 관리  

## 입출력 시스템  

- 컴퓨터 시스템의 물리적 입출력장치 + 입출력 모듈  
- 물리적 입출력장치: **실제 입출력을 수행**  
- 입출력 모듈: 메모리나 프로세서, 레지스터 등 내부 저장장치와 물리적 입출력장치 사이의 **이진 정보를 제공**   

## 입출력 모듈의 기능   
- 내부 자원과 데이터 입출력 등 다양한 동작을 제어하고 타이밍 기능을 제공  
- 프로세서에서 명령을 전달받고, 관련된 메시지를 인식하는 기능을 제공  
- 버퍼링을 이용해 전송속도를 조절  
- 오류를 검출  

## 프로세서 역할에 따른 입출력 방법  
- 프로세서 제어 입출력 방법      
 - 프로그램 제어 입출력  
  - 프로세서 내부의 입출력 데이터와 주소 레지스터를 입출력 모듈과 연결한 형태    
 - 인터럽트 기반 입출력  
  - 입출력 장치가 작업을 완료한 후에 작업과 관련된 상태와 결과를 메모리에 저장하고 인터럽트를 발생시켜 프로세서에 알린다.  
- DMA 입출력 방법    
 - 직접 메모리 액세스  
 - 프로세서가 읽기와 쓰기 정보, 입출력 주소와 메모리 주소, 길이를 DMA 제어기에 전달하여 입출력을 요청하면 DMA 제어기는 이것을 직접 처리   
- 입출력 채널을 이용한 방법   
 - 실렉터 채널: 어떤 장치의 입출력을 종료할 때까지 다른 장치를 실행하지 않도록 하는 것    
 - 멀티플렉서 채널: 바이트 단위로 시분할해 여러 장치의 출력을 처리   
 - 블록 멀티플렉서 채널: 여러 대의 고속 입출력장치들을 블록 단위로 처리   

## 커널 입출력 서브시스템  
- 입출력 스케줄링  
- 버퍼링: 입출력장치와 응용 프로그램 사이에 전송되는 데이터를 버퍼에 임시로 저장하는 방법  
- 캐싱: 명령어와 데이터를 캐시에 일시적으로 저장하여 프로세서와 메모리 간의 액세스 속도 차이를 줄여 컴퓨터 성능을 향상시키는 방법  
- 스풀링: 응용 프로그램이 출력 데이터 작업을 종료하면 그때까지 모아 놓은 출력 데이터를 프린터 출력용 준비 큐에 삽입하여 스풀 파일을 한 번에 하나씩 프린터에 내보낸다.  
- 오류 처리: 디스크 읽기 실패나 망의 전송 오류는 재실행
- 자료 관리  
 - 장치 이름과 장치 액세스 제어 관리  
 - 장치 할당과 입출력 스케줄링 관리  
 - 버퍼링, 캐싱, 스풀링 관리  
 - 장치 상태 모니터링과 오류 처리, 고장 복구 관리   
  

## 디스크 시스템  

- 디스크 드라이버: 구동 모터, 액세스 암 이동장치, 입출력 헤드 부분의 기계적인 부분을 담당  
- 프로세서: 원하는 컴퓨터의 논리적인 상호 작용, 즉 원하는 데이터의 위치(디스크 주소)와 버퍼, 판독, 기록 등을 관리  
- 디스크 제어기: 드라이버의 인터페이스 역할  
- 디스크의 구조  
 - 트랙: 원형 평판 표면에 데이터를 저장할 수 있는 동심원  
 - 실린더: 동일한 동심원으로 구성된 모든 트랙  
 - 섹터: 트랙을 부채꼴 모양으로 나눈 조각을 의미  

## 데이터 액세스 시간  

- 이동 디스크: 탐색 시간 + 회전 지연시간 + 전송시간    
- 고정 디스크: 회전 지연시간 + 전송시간  

## 디스크 스케줄링 알고리즘  

- 선입선처리 스케줄링: 요청이 도착한 순서에 따라 처리  
- 최소 탐색 시간 우선 스케줄링<sup>SSTF, Shortest Seek Time First</sup>: 현재 헤드 위치에 가까운 모든 요구를 먼저 처리  
- 스캔 스케줄링: 입출력 헤드가 디스크의 한쪽 끝에서 다른 끝이로 이동, 한쪽 끝에 도달했을 때는 역방향으로 이동하면서 요청한 트랙을 처리  
- 순환 스캔 스케줄링: 스캔 스케줄링을 처럼 헤드는 한쪽 방향으로 이동하면서 요청을 처리, 한쪽 끝에 다다르면 역방향 이동이 아닌 다시 처음부터 요청을 처리  
- 룩 스캐줄링: 현재 방향에 더는 요청이 없을 때 이동 방향을 바꿔 서비스를 처리  
- 최소 지연시간 우선 스케줄링<sup>SLTF, Shortest Latency Time First</sup>: 회전 지연시간이 가장 짧은 요청을 먼저 처리  
- 최소 위치 결정 시간 우선 스케줄링<sup>SPTF, Shortest Positioning Time First</sup>: 탐색 시간과 회전 지연시간의 합이 가장 짧은 요청을 다음 서비스의 대상으로 선택  

## RAID  
- 하드디스크 여러 개를 논리적 가상 디스크 하나로 구성해 대용량 저장장치로 사용할 수 있는 방법  
- 데이터를 하드디스크 여러 개의 분할, 저장하여 전송속도 향상, 시스템 가동 중 생길 수 있는 디스크 오류를 시스템을 정지하지 않고도 교체 가능하다는 특징  
- 총 6계층으로 분류, 서로 다른 용도로 사용  
 - RAID 0(스트라이핑)  
 - RAID 1(미러링)  
 - RAID 2(허밍 코드를 이용한 중복)  
 - RAID 3(비트 인터리브된 패리티)  
 - RAID 4(블록 인터리브된 패리티)  
 - RIAD 5(블록 인터리브된 분산 패리티 블록)  
 - RIAD 0+1