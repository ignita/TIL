# DNS 헤더  
![DNS 헤더](http://dbscthumb.phinf.naver.net/3578_000_1/20141023224702169_6JR7XUGMS.jpg/ka8_216_i2.jpg?type=w492_fst_n&wm=Y)  
- 플래그 필드에는 비트 정보가 8개 존재.  
  - 기능  
  - QR(Query Response) : 메시지 종류를 나타낸다. 0이면 질의 메시지고, 1이면 응답 메시지다.
  - OPCODE : 질의나 응답 종류를 나타낸다. 0은 표준, 1은 인버스, 2는 서버 상태 요청이다.
  - AA(Authoritative Answer) : 네임 서버가 인증 권한이 있는 서버임을 나타내므로 응답 메시지에만 사용된다.
  - TC(Truncated) : 1로 지정하면 응답의 크기가 UDP의 최대 크기인 512바이트를 초과하여 512바이트 크기로 잘렸음을 알려준다. 초과되어 잘린 데이터를 처리하는 후속 동작이 이루어져야 한다.
  - RD(Recursion Desired) : 1이면 재귀적인 응답을 원함을 뜻한다. 질의 메시지에서 사용된다.
  - RA(Recursion Available) : 응답 메시지에서 사용되며, 반복 응답이 가능하다는 의미다.
  - Z : 예약 필드로 000으로 지정된다.
  - RCODE : 응답 메시지에서 응답 오류를 나타내는 데 사용되며, 0이면 오류가 없다는 의미다.

## 요약  
1. DNS 서비스는 호스트의 도메인 이름을 IP 주소로 변환하는 기능을 수행한다.

2. 호스트의 주소 정보는 도메인 네임 스페이스라는 계층 구조로 된 분산 데이터베이스 형태로 관리된다.

3. 도메인 네임 스페이스는 다수의 도메인으로 구성되며, 각 도메인을 관리하는 네임 서버가 해당 도메인에 존재하는 호스트의 주소 정보를 관리한다.

4. 네트워크 응용 프로그램은 해석기를 사용해 네임 서버로부터 호스트 정보를 얻는다.

5. DNS에 의한 네트워크 트래픽을 줄이려고 DNS 정보를 캐시할 수 있다.

6. DNS 클라이언트와 서버는 DNS 메시지를 사용해 정보를 주고받는다.

7. DNS 메시지는 53번 포트의 UDP를 사용한다. UDP의 최대 크기를 초과하는 경우에는 TCP를 사용하기도 한다.

8. DNS 클라이언트가 서버에 전송하는 메시지를 질의 메시지라고 하고, 반대로 DNS 서버가 회신하는 메시지를 응답 메시지라고 한다.
